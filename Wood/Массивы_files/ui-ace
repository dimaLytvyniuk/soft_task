"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(n){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(n,t,i){var f,r,u;if(angular.isDefined(i.workerPath)&&(f=window.ace.require("ace/config"),f.set("workerPath",i.workerPath)),angular.isDefined(i.require)&&i.require.forEach(function(n){window.ace.require(n)}),angular.isDefined(i.showGutter)&&n.renderer.setShowGutter(i.showGutter),angular.isDefined(i.useWrapMode)&&t.setUseWrapMode(i.useWrapMode),angular.isDefined(i.showInvisibles)&&n.renderer.setShowInvisibles(i.showInvisibles),angular.isDefined(i.showIndentGuides)&&n.renderer.setDisplayIndentGuides(i.showIndentGuides),angular.isDefined(i.useSoftTabs)&&t.setUseSoftTabs(i.useSoftTabs),angular.isDefined(i.showPrintMargin)&&n.setShowPrintMargin(i.showPrintMargin),angular.isDefined(i.disableSearch)&&i.disableSearch&&n.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(i.theme)&&n.setTheme("ace/theme/"+i.theme),angular.isString(i.mode)&&t.setMode("ace/mode/"+i.mode),angular.isDefined(i.firstLineNumber)&&(angular.isNumber(i.firstLineNumber)?t.setOption("firstLineNumber",i.firstLineNumber):angular.isFunction(i.firstLineNumber)&&t.setOption("firstLineNumber",i.firstLineNumber())),angular.isDefined(i.advanced))for(r in i.advanced)u={name:r,value:i.advanced[r]},n.setOption(u.name,u.value);if(angular.isDefined(i.rendererOptions))for(r in i.rendererOptions)u={name:r,value:i.rendererOptions[r]},n.renderer.setOption(u.name,u.value);angular.forEach(i.callbacks,function(t){angular.isFunction(t)&&t(n)})};return{restrict:"EA",require:"?ngModel",link:function(i,r,u,f){var s=n.ace||{},o=angular.extend({},s,i.$eval(u.uiAce)),e=window.ace.edit(r[0]),a;e.$blockScrolling=Infinity;var h=e.getSession(),c,l,v=function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(n)&&i.$evalAsync(function(){if(angular.isFunction(n))n(t);else throw new Error("ui-ace use a function as callback.");})},y={onChange:function(n){return function(t){var r=h.getValue();!f||r===f.$viewValue||i.$$phase||i.$root.$$phase||i.$evalAsync(function(){f.$setViewValue(r)});v(n,t,e)}},onBlur:function(n){return function(){v(n,e)}}};u.$observe("readonly",function(n){e.setReadOnly(!!n||n==="")});f&&(f.$formatters.push(function(n){if(angular.isUndefined(n)||n===null)return"";if(angular.isObject(n)||angular.isArray(n))throw new Error("ui-ace cannot use an object or an array as a model");return n}),f.$render=function(){h.setValue(f.$viewValue)});a=function(n,r){if(n!==r){o=angular.extend({},s,i.$eval(u.uiAce));o.callbacks=[o.onLoad];o.onLoad!==s.onLoad&&o.callbacks.unshift(s.onLoad);h.removeListener("change",c);c=y.onChange(o.onChange);h.on("change",c);e.removeListener("blur",l);l=y.onBlur(o.onBlur);e.on("blur",l);t(e,h,o)}};i.$watch(u.uiAce,a,!0);a(s);r.on("$destroy",function(){e.session.$stopWorker();e.destroy()});i.$watch(function(){return[r[0].offsetWidth,r[0].offsetHeight]},function(){e.resize();e.renderer.updateFull()},!0)}}}]);define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,t){var r=n("../lib/oop"),u=n("./text_highlight_rules").TextHighlightRules,i=function(){var n=this.createKeywordMapper({"support.function":"avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",keyword:"select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant|alter|add|column|in|declare|cursor|for|truncate|values|into|between|in|like|set|full|intersect","constant.language":"true|false","storage.type":"int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|timestamp|money|real|number|integer"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:n,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]};this.normalizeRules()};r.inherits(i,u);t.SqlHighlightRules=i});define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/range"],function(n,t){var r=n("../lib/oop"),u=n("./text").Mode,f=n("./sql_highlight_rules").SqlHighlightRules,e=n("../range").Range,i=function(){this.HighlightRules=f};r.inherits(i,u),function(){this.lineCommentStart="--";this.$id="ace/mode/sql"}.call(i.prototype);t.Mode=i});define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,t){var r=n("../lib/oop"),u=n("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},i.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(i,u);i.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}};i.getStartRule=function(n){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:n}};i.getEndRule=function(n){return{token:"comment.doc",regex:"\\*\\/",next:n}};t.DocCommentHighlightRules=i});define("ace/mode/csharp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,t){var u=n("../lib/oop"),i=n("./doc_comment_highlight_rules").DocCommentHighlightRules,f=n("./text_highlight_rules").TextHighlightRules,r=function(){var n=this.createKeywordMapper({"variable.language":"this",keyword:"abstract|event|new|struct|as|explicit|null|switch|base|extern|object|this|bool|false|operator|throw|break|finally|out|true|byte|fixed|override|try|case|float|params|typeof|catch|for|private|uint|char|foreach|protected|ulong|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|ushort|continue|in|return|using|decimal|int|sbyte|virtual|default|interface|sealed|volatile|delegate|internal|short|void|do|is|sizeof|while|double|lock|stackalloc|else|long|static|enum|namespace|string|var|dynamic","constant.language":"null|true|false"},"identifier");this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},i.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:/'(?:.|\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n]))'/},{token:"string",start:'"',end:'"|$',next:[{token:"constant.language.escape",regex:/\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n])/},{token:"invalid",regex:/\\./}]},{token:"string",start:'@"',end:'"',next:[{token:"constant.language.escape",regex:'""'}]},{token:"string",start:/\$"/,end:'"|$',next:[{token:"constant.language.escape",regex:/\\(:?$)|{{/},{token:"constant.language.escape",regex:/\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n])/},{token:"invalid",regex:/\\./}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:n,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|\\/|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"keyword",regex:"^\\s*#(if|else|elif|endif|define|undef|warning|error|line|region|endregion|pragma)"},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}]};this.embedRules(i,"doc-",[i.getEndRule("start")]);this.normalizeRules()};u.inherits(r,f);t.CSharpHighlightRules=r});define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,t){var r=n("../range").Range,i=function(){};(function(){this.checkOutdent=function(n,t){return/^\s+$/.test(n)?/^\s*\}/.test(t):!1};this.autoOutdent=function(n,t){var o=n.getLine(t),f=o.match(/^(\s*\})/),u,i,e;if(!f||(u=f[1].length,i=n.findMatchingBracket({row:t,column:u}),!i||i.row==t))return 0;e=this.$getIndent(n.getLine(i.row));n.replace(new r(t,0,t,u-1),e)};this.$getIndent=function(n){return n.match(/^\s*/)[0]}}).call(i.prototype);t.MatchingBraceOutdent=i});define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){var h=n("../../lib/oop"),c=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],i,f={},u=function(n){var t=-1;if(n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t])return i=f[t];i=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},r=function(){this.add("braces","insertion",function(n,t,f,o,s){var h=f.getCursorPosition(),c=o.doc.getLine(h.row),b,a,d,y,v,k,p,w;if(s=="{"){if(u(f),b=f.getSelectionRange(),a=o.doc.getTextRange(b),a!==""&&a!=="{"&&f.getWrapBehavioursEnabled())return e(b,a,"{","}");if(r.isSaneInsertion(f,o))return/[\]\}\)]/.test(c[h.column])||f.inMultiSelectMode?(r.recordAutoInsert(f,o,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(f,o,"{"),{text:"{",selection:[1,1]})}else if(s=="}"){if(u(f),v=c.substring(h.column,h.column+1),v=="}"&&(d=o.$findOpeningBracket("}",{column:h.column+1,row:h.row}),d!==null&&r.isAutoInsertedClosing(h,c,s)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(s=="\n"||s=="\r\n"){if(u(f),y="",r.isMaybeInsertedClosing(h,c)&&(y=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),v=c.substring(h.column,h.column+1),v==="}"){if(k=o.findMatchingBracket({row:h.row,column:h.column+1},"}"),!k)return null;p=this.$getIndent(o.getLine(k.row))}else if(y)p=this.$getIndent(c);else{r.clearMaybeInsertedClosing();return}return w=p+o.getTabString(),{text:"\n"+w+"\n"+p+y,selection:[1,w.length,1,w.length]}}r.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,r,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&h=="{"){if(u(r),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),s=="}")return e.end.column++,e;i.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,i,f,o){var h,c,a;if(o=="("){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"(",")");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,")"),{text:"()",selection:[1,1]}}else if(o==")"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v==")"&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="("&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o==")"))return f.end.column++,f});this.add("brackets","insertion",function(n,t,i,f,o){var h,c,a;if(o=="["){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"[","]");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,"]"),{text:"[]",selection:[1,1]}}else if(o=="]"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v=="]"&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="["&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o=="]"))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var a,v,w,c,g,nt;if(f=='"'||f=="'"){u(i);var s=f,b=i.getSelectionRange(),h=r.doc.getTextRange(b);if(h!==""&&h!=="'"&&h!='"'&&i.getWrapBehavioursEnabled())return e(b,h,s,s);if(!h){var o=i.getCursorPosition(),k=r.doc.getLine(o.row),y=k.substring(o.column-1,o.column),p=k.substring(o.column,o.column+1),l=r.getTokenAt(o.row,o.column),d=r.getTokenAt(o.row,o.column+1);if(y=="\\"&&l&&/escape/.test(l.type))return null;if(a=l&&/string|escape/.test(l.type),v=!d||/string|escape/.test(d.type),p==s)w=a!==v;else{if(a&&!v||a&&v||(c=r.$mode.tokenRe,c.lastIndex=0,g=c.test(y),c.lastIndex=0,nt=c.test(y),g||nt)||p&&!/[\s;,.})\]\\]/.test(p))return null;w=!0}return{text:w?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&(e=='"'||e=="'")&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f})};r.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;return!this.$matchTokenType(r.getCurrentToken()||"text",s)&&(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))?!1:(r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",a))};r.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};r.recordAutoInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0);i.autoInsertedRow=u.row;i.autoInsertedLineEnd=r+f.substr(u.column);i.autoInsertedBrackets++};r.recordMaybeInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(i.maybeInsertedBrackets=0);i.maybeInsertedRow=u.row;i.maybeInsertedLineStart=f.substr(0,u.column)+r;i.maybeInsertedLineEnd=f.substr(u.column);i.maybeInsertedBrackets++};r.isAutoInsertedClosing=function(n,t,r){return i.autoInsertedBrackets>0&&n.row===i.autoInsertedRow&&r===i.autoInsertedLineEnd[0]&&t.substr(n.column)===i.autoInsertedLineEnd};r.isMaybeInsertedClosing=function(n,t){return i.maybeInsertedBrackets>0&&n.row===i.maybeInsertedRow&&t.substr(n.column)===i.maybeInsertedLineEnd&&t.substr(0,n.column)==i.maybeInsertedLineStart};r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1);i.autoInsertedBrackets--};r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)};h.inherits(r,c);t.CstyleBehaviour=r});define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,t){var u=n("../../lib/oop"),i=n("../../range").Range,f=n("./fold_mode").FoldMode,r=t.FoldMode=function(n){n&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+n.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+n.end)))};u.inherits(r,f),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(n,t,i){var r=n.getLine(i),u;return this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r)?"":(u=this._getFoldWidgetBase(n,t,i),!u&&this.startRegionRe.test(r))?"start":u};this.getFoldWidgetRange=function(n,t,i,r){var o=n.getLine(i),e,u,f;return this.startRegionRe.test(o)?this.getCommentRegionBlock(n,o,i):(u=o.match(this.foldingStartMarker),u)?(f=u.index,u[1])?this.openingBracketBlock(n,u[1],i,f):(e=n.getCommentFoldRange(i,f+u[0].length,1),e&&!e.isMultiLine()&&(r?e=this.getSectionRange(n,i):t!="all"&&(e=null)),e):t==="markbegin"?void 0:(u=o.match(this.foldingStopMarker),u?(f=u.index+u[0].length,u[1])?this.closingBracketBlock(n,u[1],i,f):n.getCommentFoldRange(i,f,-1):void 0)};this.getSectionRange=function(n,t){var u=n.getLine(t),o=u.search(/\S/),s=t,c=u.length,f,h,e,r;for(t=t+1,f=t,h=n.getLength();++t<h;)if(u=n.getLine(t),e=u.search(/\S/),e!==-1){if(o>e)break;if(r=this.getFoldWidgetRange(n,"all",t),r)if(r.start.row<=s)break;else if(r.isMultiLine())t=r.end.row;else if(o==e)break;f=t}return new i(s,c,f,n.getLine(f).length)};this.getCommentRegionBlock=function(n,t,r){for(var s=t.search(/\s*$/),h=n.getLength(),o=r,u=1,f,e;++r<h;)if((t=n.getLine(r),f=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/.exec(t),f)&&(f[1]?u--:u++,!u))break;return e=r,e>o?new i(o,s,e,t.length):void 0}}.call(r.prototype)});define("ace/mode/folding/csharp",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/cstyle"],function(n,t){var u=n("../../lib/oop"),i=n("../../range").Range,f=n("./cstyle").FoldMode,r=t.FoldMode=function(n){n&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+n.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+n.end)))};u.inherits(r,f),function(){this.usingRe=/^\s*using \S/;this.getFoldWidgetRangeBase=this.getFoldWidgetRange;this.getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(n,t,i){var f=this.getFoldWidgetBase(n,t,i),u,r,e,o;return!f&&((u=n.getLine(i),/^\s*#region\b/.test(u))||(r=this.usingRe,r.test(u)&&(e=n.getLine(i-1),o=n.getLine(i+1),!r.test(e)&&r.test(o))))?"start":f};this.getFoldWidgetRange=function(n,t,i){var u=this.getFoldWidgetRangeBase(n,t,i),r;return u?u:(r=n.getLine(i),this.usingRe.test(r))?this.getUsingStatementBlock(n,r,i):/^\s*#region\b/.test(r)?this.getRegionBlock(n,r,i):void 0};this.getUsingStatementBlock=function(n,t,r){for(var o=t.match(this.usingRe)[0].length-1,s=n.getLength(),f=r,u=r,e;++r<s;)if(t=n.getLine(r),!/^\s*$/.test(t)){if(!this.usingRe.test(t))break;u=r}if(u>f)return e=n.getLine(u).length,new i(f,o,u,e)};this.getRegionBlock=function(n,t,r){for(var s=t.search(/\s*$/),h=n.getLength(),o=r,u=1,f,e;++r<h;)if((t=n.getLine(r),f=/^\s*#(end)?region\b/.exec(t),f)&&(f[1]?u--:u++,!u))break;return e=r,e>o?new i(o,s,e,t.length):void 0}}.call(r.prototype)});define("ace/mode/csharp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/csharp_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/csharp"],function(n,t){var r=n("../lib/oop"),u=n("./text").Mode,f=n("./csharp_highlight_rules").CSharpHighlightRules,e=n("./matching_brace_outdent").MatchingBraceOutdent,o=n("./behaviour/cstyle").CstyleBehaviour,s=n("./folding/csharp").FoldMode,i=function(){this.HighlightRules=f;this.$outdent=new e;this.$behaviour=new o;this.foldingRules=new s};r.inherits(i,u),function(){this.lineCommentStart="//";this.blockComment={start:"/*",end:"*/"};this.getNextLineIndent=function(n,t,i){var r=this.$getIndent(t),e=this.getTokenizer().getLineTokens(t,n),u=e.tokens,f;return u.length&&u[u.length-1].type=="comment"?r:(n=="start"&&(f=t.match(/^.*[\{\(\[]\s*$/),f&&(r+=i)),r)};this.checkOutdent=function(n,t,i){return this.$outdent.checkOutdent(t,i)};this.autoOutdent=function(n,t,i){this.$outdent.autoOutdent(t,i)};this.createWorker=function(){return null};this.$id="ace/mode/csharp"}.call(i.prototype);t.Mode=i})